class A is
    var value : Integer

    this() is
        this.value := Integer(42)
    end

    method returnSomething() is
        return this.value.toReal()
    end

end

class B extends A is
    this() is
        super.this()
    end

    method returnSomething() is
        return 100
    end

end

class PolymorphismTest extends EntryPoint is
    method assert(cond : Boolean) : PolymorphismTest is
        if cond.Not() then
            this.ExitCode := 1
        end
        return this
    end
    
    this(stdin: CharInput, stdout: CharOutput, stderr: CharOutput, args: Array[Array[Integer]]) is
        var objA : A := A()
        var objB : A := B()  // Upcasting to A

        this := this.assert(objA.returnSomething().Equal(42)) // expects 42 
        this := this.assert(objB.returnSomething().Equal(42)) // expects 42, not 100
    end
end
