class A is
    var value : Integer := 42

    method returnSomething() : Real is
        return this.value.toReal()
    end

    method returnSomething(val : Real) : Real is
        return val
    end
end

class B extends A is
    // defining something like returnSomething() : Integer is illegal
    method returnSomething() : Real is
        return 100.0
    end

    method returnSomething(val : Real) : Real is
        return val.Plus(10.0)
    end
end

class PolymorphismTest extends EntryPoint is
    method assert(cond : Boolean) : PolymorphismTest is
        if cond.Not() then
            this.ExitCode := 1
        end
        return this
    end
    
    this(stdin: CharInput, stdout: CharOutput, stderr: CharOutput, args: Array[Array[Integer]]) is
        var objA : A := A()
        var objBA : A := B()
        var objBB : B := B()

        this := this.assert(objA.returnSomething().Equal(42.0)) // expects 42
        this := this.assert(objBA.returnSomething().Equal(100.0)) // expect 100
        this := this.assert(objBB.returnSomething().Equal(100.0)) // expect 100
    end
end
